# Prometheus — cấu hình tối thiểu cho playground
# Helm chart: prometheus-community/prometheus

alertmanager:
  enabled: false

pushgateway:
  enabled: false

# Thêm scrape config cho Trivy Operator metrics (cho Grafana Trivy dashboard)
scrapeConfigs:
  trivy-operator:
    enabled: true
    job_name: trivy-operator
    static_configs:
      - targets:
          - trivy-operator.trivy-system.svc.cluster.local:80
    metrics_path: /metrics
    scheme: http

server:
  retention: 15d
  resources:
    requests:
      cpu: 200m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 1Gi

  service:
    type: ClusterIP
    port: 80

  ingress:
    enabled: true
    ingressClassName: nginx
    hosts:
      - prometheus.localhost
    paths:
      - /

